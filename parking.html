<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parking Manager</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="parking.css" />
    <script src="parking.js"></script>
</head>
<body onload="setupparkingmanager()">
    <div class="navbar">
        <div class="brand">PARKING MANAGER v 2.0</div>
        <div class="row-controls">
            <label for="rows">Number of Rows:</label>
            <input type="number" id="rows" min="1" max="10" value="2">
            <label for="slotsPerRow">Slots per Row:</label>
            <input type="number" id="slotsPerRow" min="1" max="10" value="5">
            <button onclick="applyRowChanges()">Apply</button>
        </div>
    </div>
    <div class="dashboard">
        <div class="parking-manager">
            <div class="new-car-btn">Slot Management</div>
            <div class="new-car-entry">
                <!-- Slots will be dynamically generated by JavaScript -->
            </div>
            <div class="new-car-btn">Manage Queue</div>
            <div class="queue">
                <img id="queue1" src="carfaded.png"></img>
                <img id="queue2" src="carfaded.png"></img>
                <img id="queue3" src="carfaded.png"></img>
                <img id="queue4" src="carfaded.png"></img>
                <img id="queue5" src="carfaded.png"></img>
            </div>
            <div class="addtoqueue" onclick="addtoqueue()">Add to Queue</div>
        </div>
        <div class="parking-container" id="parkingspace">
            <!-- Parking layout will be dynamically generated by JavaScript -->
        </div>
        <div class="outside">Entry / Exit</div>
    </div>

    <script>
        function applyRowChanges() {
            const rowsInput = document.getElementById('rows');
            const slotsInput = document.getElementById('slotsPerRow');
            
            const newRows = parseInt(rowsInput.value);
            const newSlotsPerRow = parseInt(slotsInput.value);
            
            if (newRows > 0 && newRows <= 10 && newSlotsPerRow > 0 && newSlotsPerRow <= 10) {
                changeSlotsPerRow(newSlotsPerRow);
                changeRowCount(newRows);
            } else {
                alert("Please enter valid values (1-10) for rows and slots per row");
                rowsInput.value = rows; // Reset to current value
                slotsInput.value = slotsPerRow; // Reset to current value
            }
        }
    </script>
</body>
</html>